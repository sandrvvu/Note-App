{"ast":null,"code":"import { $authHost, $host } from \"./index\";\nimport jwt_decode from \"jwt-decode\";\nimport axios from \"axios\";\nexport const registration = async (login, password) => {\n  const response = await axios.put(\"http://localhost:5000/api/user/registration\", {\n    login: login,\n    password: password\n  }, {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  const token = response.data.token;\n  localStorage.setItem(\"token\", token);\n  return jwt_decode(token);\n};\nexport const log = async (login, password) => {\n  const response = await axios.post(\"http://localhost:5000/api/user/login\", {\n    login: login,\n    password: password\n  }, {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  const token = response.data.token;\n  localStorage.setItem(\"token\", token);\n  localStorage.setItem(\"user_id\", jwt_decode(token.id));\n  return jwt_decode(token);\n};\nexport const check = async () => {\n  const responce = await $authHost.get(\"api/user/auth\");\n  localStorage.setItem(\"token\", responce.token);\n  return jwt_decode(responce.token);\n};","map":{"version":3,"names":["$authHost","$host","jwt_decode","axios","registration","login","password","response","put","headers","token","data","localStorage","setItem","log","post","id","check","responce","get"],"sources":["C:/kpii/KYRSACH/note_app/client/src/apiCalls/userApi.js"],"sourcesContent":["import { $authHost, $host } from \"./index\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from \"axios\";\r\n\r\nexport const registration = async (login, password) => {\r\n  const response = await axios.put(\r\n    \"http://localhost:5000/api/user/registration\",\r\n    {\r\n      login: login,\r\n      password: password,\r\n    },\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n  \r\n  const token = response.data.token;\r\n  localStorage.setItem(\"token\", token);\r\n  return jwt_decode(token);\r\n  \r\n};\r\n\r\nexport const log = async (login, password) => {\r\n  const response = await axios.post(\r\n    \"http://localhost:5000/api/user/login\",\r\n    {\r\n      login: login,\r\n      password: password,\r\n    },\r\n    { headers: { \"Content-Type\": \"application/json\" } }\r\n  );\r\n\r\n  const token = response.data.token;\r\n  localStorage.setItem(\"token\", token);\r\n  localStorage.setItem(\"user_id\",jwt_decode(token.id))\r\n  return jwt_decode(token);\r\n};\r\n\r\nexport const check = async () => {\r\n  const responce = await $authHost.get(\"api/user/auth\");\r\n  localStorage.setItem(\"token\", responce.token);\r\n  return jwt_decode(responce.token);\r\n};\r\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,KAApB,QAAiC,SAAjC;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,YAAY,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;EACrD,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAN,CACrB,6CADqB,EAErB;IACEH,KAAK,EAAEA,KADT;IAEEC,QAAQ,EAAEA;EAFZ,CAFqB,EAMrB;IAAEG,OAAO,EAAE;MAAE,gBAAgB;IAAlB;EAAX,CANqB,CAAvB;EASA,MAAMC,KAAK,GAAGH,QAAQ,CAACI,IAAT,CAAcD,KAA5B;EACAE,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,KAA9B;EACA,OAAOR,UAAU,CAACQ,KAAD,CAAjB;AAED,CAdM;AAgBP,OAAO,MAAMI,GAAG,GAAG,OAAOT,KAAP,EAAcC,QAAd,KAA2B;EAC5C,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACY,IAAN,CACrB,sCADqB,EAErB;IACEV,KAAK,EAAEA,KADT;IAEEC,QAAQ,EAAEA;EAFZ,CAFqB,EAMrB;IAAEG,OAAO,EAAE;MAAE,gBAAgB;IAAlB;EAAX,CANqB,CAAvB;EASA,MAAMC,KAAK,GAAGH,QAAQ,CAACI,IAAT,CAAcD,KAA5B;EACAE,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,KAA9B;EACAE,YAAY,CAACC,OAAb,CAAqB,SAArB,EAA+BX,UAAU,CAACQ,KAAK,CAACM,EAAP,CAAzC;EACA,OAAOd,UAAU,CAACQ,KAAD,CAAjB;AACD,CAdM;AAgBP,OAAO,MAAMO,KAAK,GAAG,YAAY;EAC/B,MAAMC,QAAQ,GAAG,MAAMlB,SAAS,CAACmB,GAAV,CAAc,eAAd,CAAvB;EACAP,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BK,QAAQ,CAACR,KAAvC;EACA,OAAOR,UAAU,CAACgB,QAAQ,CAACR,KAAV,CAAjB;AACD,CAJM"},"metadata":{},"sourceType":"module"}